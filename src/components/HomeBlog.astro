---
import { getRecentPosts } from '@/helpers/getRecentPosts'
import BlogPost from './BlogPost.astro';

const postsToShow = await getRecentPosts();
---
<section>
    <h2>Blog</h2>

    {postsToShow.length && postsToShow.map((post) => (
        <BlogPost
            title={post.data.title}
            description={post.data.description ?? ''}
            url={`/blog/${post.slug}`}
        />
    ))}
</section>
